var socialWarfarePlugin=socialWarfarePlugin||{};!function(a,b){var c,d=a.socialWarfarePlugin;d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(a,b,c){"use strict";function d(a){return parseInt(a,10)}function e(){if(!b(".nc_socialPanelSide").length){b(".nc_wrapper").length&&b(".nc_wrapper").remove();var a=b(".nc_socialPanel").not('[data-float="float_ignore"]').first(),c=(b(".nc_socialPanel").index(a),a.attr("data-float")),d=a.attr("data-align");if(c){var e=b(".nc_socialPanel").attr("data-floatColor");b('<div class="nc_wrapper" style="background-color:'+e+'"></div>').appendTo("body");var f=a.attr("data-float");a.clone().appendTo(".nc_wrapper"),b(".nc_wrapper").hide().addClass(f);var g=a.outerWidth(!0),h=a.offset();b(".nc_socialPanel").last().addClass("nc_floater").css({width:g,left:"center"==d?0:h.left}),b(".nc_socialPanel .swp_count").css({transition:"padding .1s linear"}),b(".nc_socialPanel").eq(0).addClass("swp_one"),b(".nc_socialPanel").eq(2).addClass("swp_two"),b(".nc_socialPanel").eq(1).addClass("swp_three")}}}function f(){var c=b(".nc_socialPanel"),d=c.not('[data-float="float_ignore"]').eq(0).attr("data-float"),e=b(a),f=e.height(),g=b(".nc_wrapper"),h=b(".nc_socialPanelSide").filter(":not(.mobile)"),i=(b(".nc_socialPanel").attr("data-position"),h.attr("data-screen-width")),j=(c.eq(0).offset(),e.scrollTop());b(a).scrollTop();"undefined"==typeof a.swpOffsets&&(a.swpOffsets={});var k=!1;if("floatBottom"==d||"floatTop"==d)if(b(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").each(function(){var c,d,e,g=b(".nc_socialPanel").index(b(this));"undefined"==typeof a.swpOffsets[g]?(c=b(this).offset(),d=b(this).height(),e=c+d,a.swpOffsets[g]=c):(c=a.swpOffsets[g],d=b(this).height(),e=c+d),c.top+d>j&&c.top<j+f&&(k=!0)}),k)g.hide(),"floatBottom"==d?b("body").animate({"padding-bottom":a.bodyPaddingBottom+"px"},0):"floatTop"==d&&b("body").animate({"padding-top":a.bodyPaddingTop+"px"},0);else{var l,m;g.show(),"floatBottom"==d?(l=a.bodyPaddingBottom+50,b("body").animate({"padding-bottom":l+"px"},0)):"floatTop"==d&&(m=b(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").first().offset(),console.log(m),m.top>j+f&&(l=a.bodyPaddingTop+50,b("body").animate({"padding-top":l+"px"},0)))}else if("floatLeft"==d){k=!1,b(".nc_socialPanel").not(".nc_socialPanelSide").length?(b(".nc_socialPanel").not(".nc_socialPanelSide").each(function(){var a=b(this).offset(),c=b(this).height();a.top+c>j&&a.top<j+f&&(k=!0)}),k=!(!k&&!b(".nc_socialPanelSide").hasClass("mobile"))):k=!(b(a).width()>i);var n=h.attr("data-transition");"slide"==n?1==k?h.css({left:"-100px"},200):h.css({left:"5px"}):"fade"==n&&(1==k?h.fadeOut(200):h.fadeIn(200))}}function g(){0!==b(".nc_socialPanel").length&&(e(),j.activateHoverStates(),i(),b(a).scrollTop(),b(a).scroll(j.throttle(250,function(){f()})),b(a).trigger("scroll"))}function h(){var c={wrap:'<div class="sw-pinit" />',pageURL:document.URL},d=b.extend(c,d);b(".swp-content-locator").parent().find("img").each(function(){var c=b(this);if(!(c.outerHeight()<swpPinIt.minHeight||c.outerWidth()<swpPinIt.minWidth)){var e=!1;if(c.data("media")?e=c.data("media"):c[0].src&&(e=c[0].src),e){var f="";c.attr("title")?f=c.attr("title"):c.attr("alt")&&(f=c.attr("alt"));var g="http://pinterest.com/pin/create/bookmarklet/?media="+e+"&url="+d.pageURL+"&is_video=false&description="+encodeURIComponent(f),h=c.attr("class"),i=c.attr("style");c.removeClass().attr("style","").wrap(d.wrap),c.after('<a href="'+encodeURI(g)+'" class="sw-pinit-button sw-pinit-'+swpPinIt.vLocation+" sw-pinit-"+swpPinIt.hLocation+'">Save</a>'),c.parent(".sw-pinit").addClass(h).attr("style",i),b(".sw-pinit .sw-pinit-button").on("click",function(){return a.open(b(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1"),!1})}}})}function i(){b(".nc_tweet, a.swp_CTT").on("click",function(c){if(b(this).hasClass("noPop"))return!1;if(b(this).attr("data-link")){c.preventDefault?c.preventDefault():c.returnValue=!1;var d,e,f,g=b(this).attr("data-link");return g=g.replace("â€™","'"),b(this).hasClass("pinterest")||b(this).hasClass("buffer_link")||b(this).hasClass("flipboard")?(d=550,e=775):(d=270,e=500),f=a.open(g,"_blank","height="+d+",width="+e),!1}})}var j=a.socialWarfarePlugin;j.fetchFacebookShares=function(){var a="https://graph.facebook.com/?id="+swp_post_url;b.get(a,function(a){var c="https://graph.facebook.com/?id="+swp_post_url+"&fields=og_object{likes.summary(true),comments.summary(true)}";b.get(c,function(c){var e,f,g,h;e=d(a.share.share_count),f=d(c.og_object.likes.summary.total_count),g=d(c.og_object.comments.summary.total_count),h=e+f+g,console.log(h),swpPostData={action:"swp_facebook_shares_update",post_id:swp_post_id,activity:h},b.post(swp_admin_ajax,swpPostData,function(a){console.log(a)})})})},j.activateHoverStates=function(){b(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer").on("mouseenter",function(){var a=b(this).find(".swp_share").width(),c=b(this).find("i.sw").outerWidth(),d=b(this).width(),e=1+(a+35)/d;b(this).find(".iconFiller").width(a+c+25+"px"),b(this).css({flex:e+" 1 0%"})}),b(".nc_socialPanel:not(.nc_socialPanelSide) .nc_tweetContainer").on("mouseleave",function(){b(this).find(".iconFiller").width("30px"),b(this).css({flex:"1"})})},b(document).ready(function(){if(i(),a.bodyPaddingTop=d(b("body").css("padding-top").replace("px","")),a.bodyPaddingBottom=d(b("body").css("padding-bottom").replace("px","")),b(a).resize(j.debounce(250,function(){b(".nc_socialPanel").length&&0!==b(".nc_socialPanel:hover").length||(a.swpAdjust=1,g())})),b(a).trigger("resize"),b(document.body).on("post-load",function(){g()}),0!==b(".nc_socialPanelSide").length){var c=b(".nc_socialPanelSide").height(),e=b(a).height(),f=d(e/2-c/2);setTimeout(function(){b(".nc_socialPanelSide").animate({top:f},0),console.log(f)},105)}swpPinIt.enabled&&h()})}(this,jQuery);