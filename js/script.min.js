var socialWarfarePlugin=socialWarfarePlugin||{};
(function(c,a,E){function f(a){return parseInt(a,10)}function y(){if(!0===r)return!1;r=!0;var d=!1;a(".nc_socialPanel:not(.nc_socialPanelSide)").each(function(){var c=a(this),e;e="none"!==c.find(".nc_tweetContainer:nth-child(1)").css("display")?a(this).find(".nc_tweetContainer:nth-child(1)").offset():c.find(".nc_tweetContainer:nth-child(2)").offset();c="none"!==c.find(".nc_tweetContainer:nth-last-child(1)").css("display")?c.find(".nc_tweetContainer:nth-last-child(1)").offset():c.find(".nc_tweetContainer:nth-last-child(2)").offset();
e.top!==c.top&&(d=!0)});"undefined"===typeof c.swpAdjust&&(c.swpAdjust=0);!0===d&&20>=c.swpAdjust?socialWarfarePlugin.setWidths(!0,!0):a(".nc_socialPanel").css({opacity:1});r=!1}function z(d){a(".nc_tweetContainer").not(".totesalt").each(function(){var b;b=a(this).parents(".nc_wrapper").length?"float":a(".nc_socialPanel").index(a(this).parent(".nc_socialPanel"));var e=f(a(this).attr("data-id"));"undefined"!==typeof c.origSets[b]&&(a(this).find(".iconFiller").animate({width:c.origSets[b][e].fil},d),
a(this).find(".swp_count").animate({"padding-left":c.origSets[b][e].pl,"padding-right":c.origSets[b][e].pr},d))})}function A(){if(!a(".nc_wrapper .nc_socialPanel").length&&!a(".nc_socialPanelSide").length){var d=a(".nc_socialPanel").not('[data-float="float_ignore"]').first(),b=a(".nc_socialPanel").index(d),e=d.attr("data-float"),f=d.attr("data-align");e&&(e=a(".nc_socialPanel").attr("data-floatColor"),a('<div class="nc_wrapper" style="background-color:'+e+'"></div>').appendTo("body"),e=d.attr("data-float"),
d.clone().appendTo(".nc_wrapper"),a(".nc_wrapper").hide().addClass(e),e=d.outerWidth(!0),d=d.offset(),a(".nc_socialPanel").last().addClass("nc_floater").css({width:e,left:"center"==f?0:d.left}),a(".nc_socialPanel .swp_count").css({transition:"padding .1s linear"}),a(".nc_socialPanel").eq(0).addClass("swp_one"),a(".nc_socialPanel").eq(2).addClass("swp_two"),a(".nc_socialPanel").eq(1).addClass("swp_three"),c.origSets["float"]=c.origSets[b],socialWarfarePlugin.setWidths())}}function w(){var d=a(".nc_socialPanel"),
b=d.not('[data-float="float_ignore"]').eq(0).attr("data-float"),e=a(c),f=e.height(),q=a(".nc_wrapper"),g=a(".nc_socialPanelSide").filter(":not(.mobile)");a(".nc_socialPanel").attr("data-position");var k=g.attr("data-screen-width");d.eq(0).offset();var l=e.scrollTop();a(c).scrollTop();"undefined"==typeof c.swpOffsets&&(c.swpOffsets={});var h=!1;"floatBottom"==b||"floatTop"==b?(a(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").each(function(){var b,d,e=a(".nc_socialPanel").index(a(this));
"undefined"==typeof c.swpOffsets[e]?(b=a(this).offset(),d=a(this).height(),c.swpOffsets[e]=b):(b=c.swpOffsets[e],d=a(this).height());b.top+d>l&&b.top<l+f&&(h=!0)}),h?(q.hide(),"floatBottom"==b?a("body").animate({"padding-bottom":c.body_padding_bottom+"px"},0):"floatTop"==b&&a("body").animate({"padding-top":c.body_padding_top+"px"},0)):(q.show(),"floatBottom"==b?(g=c.body_padding_bottom+50,a("body").animate({"padding-bottom":g+"px"},0)):"floatTop"==b&&(g=a(".nc_socialPanel").not(".nc_socialPanelSide, .nc_wrapper .nc_socialPanel").first().offset(),
console.log(g),g.top>l+f&&(g=c.body_padding_top+50,a("body").animate({"padding-top":g+"px"},0))))):"floatLeft"==b&&(h=!1,a(".nc_socialPanel").not(".nc_socialPanelSide").length?(a(".nc_socialPanel").not(".nc_socialPanelSide").each(function(){var c=a(this).offset(),b=a(this).height();c.top+b>l&&c.top<l+f&&(h=!0)}),h=h||a(".nc_socialPanelSide").hasClass("mobile")?!0:!1):h=a(c).width()>k?!1:!0,d=g.attr("data-transition"),"slide"==d?1==h?g.css({left:"-100px"},200):g.css({left:"5px"}):"fade"==d&&(1==h?
g.fadeOut(200):g.fadeIn(200)))}function B(){a(c).on("scroll",function(){w()})}function C(){a(".nc_socialPanel").each(function(){a(this).css({width:"100%"});var c=a(this).width(),b=a(this).attr("data-scale"),e=a(this).attr("data-align");"fullWidth"==e&&1!=b||1<b||a(this).hasClass("nc_socialPanelSide")?(c/=b,a(this).css("cssText","width:"+c+"px!important;"),a(this).css({transform:"scale("+b+")","transform-origin":"left"})):"fullWidth"!=e&&1>b&&a(this).css({transform:"scale("+b+")","transform-origin":e})})}
function t(){a(".nc_socialPanel").length&&(C(),a.when(socialWarfarePlugin.setWidths(!0)).done(function(){setTimeout(function(){socialWarfarePlugin.setWidths(!0,!1,!0)},200)}),A(),a(c).scrollTop(),B(),w(),socialWarfarePlugin.activateHoverStates())}function D(){var d=a.extend({wrap:'<div class="sw-pinit" />',pageURL:document.URL},d);a(".swp-content-locator").parent().find("img").each(function(){var b=a(this);if(!(b.outerHeight()<sw_pinit_min_height||b.outerWidth()<sw_pinit_min_width)){var e=!1;b.data("media")?
e=b.data("media"):b[0].src&&(e=b[0].src);if(e){var f="";b.attr("title")?f=b.attr("title"):b.attr("alt")&&(f=b.attr("alt"));var e="http://pinterest.com/pin/create/bookmarklet/?media="+e+"&url="+d.pageURL+"&is_video=false&description="+encodeURIComponent(f),f=b.attr("class"),q=b.attr("style");b.removeClass().attr("style","").wrap(d.wrap);b.after('<a href="'+encodeURI(e)+'" class="sw-pinit-button sw-pinit-'+swp_pinit_v_location+" sw-pinit-"+swp_pinit_h_location+'">Save</a>');b.parent(".sw-pinit").addClass(f).attr("style",
q);a(".sw-pinit .sw-pinit-button").on("click",function(){c.open(a(this).attr("href"),"Pinterest","width=632,height=253,status=0,toolbar=0,menubar=0,location=1,scrollbars=1");return!1})}}})}var r=!1;socialWarfarePlugin.setWidths=function(d,b,e){var m={duration:0,easing:"linear",queue:!1};if("undefined"===typeof c.origSets||d){if(c.origSets=[],"undefined"===typeof c.defaults&&(c.defaults=[]),a(".nc_socialPanel:not(.nc_socialPanelSide)").each(function(){var e=a(".nc_socialPanel").index(a(this));"undefined"===
typeof c.defaults[e]&&(c.defaults[e]=[]);"undefined"!==typeof c.swpAdjust||b?"undefined"===typeof c.swpAdjust&&!0===b?c.swpAdjust=1:!0===b?++c.swpAdjust:c.swpAdjust=0:c.swpAdjust=0;var d=a(this).width()-c.swpAdjust,k=a(this).attr("data-count"),l=f(d)/f(k),h=a(".nc_socialPanel:not(.nc_socialPanelSide)").offset(),n=a(".nc_socialPanelSide").attr("data-screen-width");100>h.left||a(c).width()<n?a(".nc_socialPanelSide").addClass("mobile"):a(".nc_socialPanelSide").removeClass("mobile");var p=0,x=0,h=0;"undefined"===
typeof c.defaults[e].defaultWidthNeeded?(a(this).find(".nc_tweetContainer").each(function(){var c=0,c=3<k?5*(k-1):15*(k-1);p+=a(this).width()+c;var c=a(this).find(".swp_count").css("padding-left"),c=f(c.replace("px","")),b=a(this).find(".swp_count").css("padding-right"),b=f(b.replace("px",""));x=c+b;p-=x}),c.defaults[e].defaultWidthNeeded=p):p=c.defaults[e].defaultWidthNeeded;h=a(this).find(".nc_tweetContainer.totes").width();d<p&&!a(this).hasClass("nc_floater")&&a(this).find(".nc_tweetContainer.totes").hide();
var r,t;if(d<=p-h+25&&!a(this).hasClass("nc_floater"))l=a(this).find(".totes").length?a(this).hasClass("connected")?f(d)/(f(k)-1):f(d)/(f(k)-1)-10:a(this).hasClass("connected")?f(d)/f(k):f(d)/f(k)-11,a(this).addClass("mobile").removeClass("notMobile"),a(".spaceManWilly").css({width:"auto"}),a(".swp_count .iconFiller").length?a(this).find(".nc_tweetContainer.totes").hide():a(this).find(".nc_tweetContainer.totes,.nc_tweetContainer .swp_count").hide(),a(this).find(".nc_tweetContainer").each(function(){u=
a(this).find(".iconFiller").width();l%2?(r=Math.floor((l-u)/2)-1,t=Math.floor((l-u)/2)-1):(r=(l-u)/2-1,t=(l-u)/2-1);a(this).find(".swp_count").animate({"padding-left":0,"padding-right":0},m);a(this).find(".iconFiller").animate({"margin-left":r+"px","margin-right":t+"px"},m)});else{a(this).addClass("notMobile").removeClass("mobile");d>p&&a(this).find(".nc_tweetContainer.totes,.nc_tweetContainer .swp_count").show();a(this).find(".nc_tweetContainer .iconFiller").animate({"margin-left":"0px","margin-right":"0px"},
m);l=Math.floor(l);a(this).find(".totesalt").length?(h=a(this).find(".totes:visible").outerWidth(!0),l=f(d-h)/f(k-1),l=Math.floor(l)):(h=a(this).find(".totes:visible").outerWidth(!0),h>l&&(l=f(d-h)/f(k-1),l=Math.floor(l)));var v=0,e=a(".nc_socialPanel").index(a(this));c.origSets[e]=[];if(a(this).hasClass("nc_floater")){n=a(".nc_socialPanel").not('[data-float="float_ignore"]').first();d=a(".nc_socialPanel").index(n);a(this).replaceWith(n.prop("outerHTML"));var u=n.outerWidth(!0),h=n.offset(),h=n.parent().offset();
a(".nc_socialPanel").last().addClass("nc_floater").css({width:u,left:h.left});socialWarfarePlugin.activateHoverStates();c.origSets["float"]=c.origSets[d]}else a(this).find(".nc_tweetContainer").not(".totesalt").each(function(){var b=a(this).find("i.sw").outerWidth()+14,d=a(this).find(".swp_share").outerWidth(),b=b+d+3;a(this).find(".spaceManWilly").animate({width:b+"px"},m);++v;var d=a(this).find(".swp_count").css("padding-left"),d=f(d.replace("px","")),g=a(this).find(".swp_count").css("padding-right"),
g=f(g.replace("px","")),b=a(this).attr("data-id"),b=f(b);v>k&&(v=1);var h=a(this).outerWidth(!0),h=h-d-g,d=l-h;c.origSets[e][b]=[];d%2?(d=(d-1)/2,c.origSets[e][b].pl=d+1+"px"):(d/=2,c.origSets[e][b].pl=d+"px");c.origSets[e][b].pr=d+"px";c.origSets[e][b].fil=a(this).find(".iconFiller").width()+"px";a(this).find(".swp_count").animate({"padding-left":c.origSets[e][b].pl,"padding-right":c.origSets[e][b].pr},0,"linear",function(){a(this).css({transition:"padding .1s linear"})});c.resized=!0})}}),!0===
e||!0===c.swpSecondary)c.swpSecondary=!0,setTimeout(function(){y()},200)}else z(m)};socialWarfarePlugin.activateHoverStates=function(){a(".nc_tweetContainer").not(".totesalt, .nc_socialPanelSide .nc_tweetContainer").on("mouseenter",function(){if(!a(this).parents(".nc_socialPanel").hasClass("mobile")){var d=a(this),b=d.find(".iconFiller").width();d.find(".swp_share").outerWidth();d=d.find(".spaceManWilly").outerWidth();b=d-b;f(d);f(b);var e=a(this).parents(".nc_socialPanel").attr("data-count"),m,q,
g;a(this).siblings(".totes").length?(m=f(b)/(f(e)-2),m=Math.floor(m),q=b%(e-2)):(m=f(b)/(f(e)-1),m=Math.floor(m),q=b%(e-1));g=a(this).parents(".nc_wrapper").length?"float":a(".nc_socialPanel").index(a(this).parent(".nc_socialPanel"));var k=f(a(this).attr("data-id"));a(this).find(".iconFiller").css({width:d});var l=c.origSets[g][k].pl,h=c.origSets[g][k].pr;a(this).find(".swp_count").css({"padding-left":c.origSets[g][k].pl,"padding-right":c.origSets[g][k].pr});var k=a(this).attr("data-id"),n=0;a(this).hasClass("totes")?
a(this).siblings(".nc_tweetContainer").each(function(){k=f(a(this).attr("data-id"));a(this).find(".iconFiller").css({width:c.origSets[g][k].fil});a(this).find(".swp_count").css({"padding-left":c.origSets[g][k].pl,"padding-right":c.origSets[g][k].pr})}):a(this).siblings(".nc_tweetContainer").not(".totes").each(function(){++n;var b=m,d;n<=q&&(b+=1);k=f(a(this).attr("data-id"));b%2?(d=(b-1)/2+1,b=(b-1)/2):(d=b/2,b/=2);l=f(c.origSets[g][k].pl)-d;h=f(c.origSets[g][k].pr)-b;a(this).find(".iconFiller").css({width:origSets[g][k].fil});
a(this).find(".swp_count").css({"padding-left":l+"px","padding-right":h+"px"})})}});a(".nc_socialPanel").on("mouseleave click",function(){a(this).hasClass("mobile")||socialWarfarePlugin.setWidths()});a(".nc_fade .nc_tweetContainer").on("mouseenter",function(){a(this).css({opacity:1}).siblings(".nc_tweetContainer").css({opacity:.5})});a(".nc_fade").on("mouseleave",function(){a(".nc_fade .nc_tweetContainer").css({opacity:1})})};socialWarfarePlugin.fetchFacebookShares=function(){a.get("https://graph.facebook.com/?id="+
swp_post_url,function(c){a.get("https://graph.facebook.com/?id="+swp_post_url+"&fields=og_object{likes.summary(true),comments.summary(true)}",function(b){var e,m;e=f(c.share.share_count);m=f(b.og_object.likes.summary.total_count);b=f(b.og_object.comments.summary.total_count);e=e+m+b;console.log(e);swpPostData={action:"swp_facebook_shares_update",post_id:swp_post_id,activity:e};a.post(swp_admin_ajax,swpPostData,function(a){console.log(a)})})})};a(document).ready(function(){a(document).on("click",".nc_tweet, a.swp_CTT",
function(b){if(!a(this).hasClass("noPop")&&a(this).attr("data-link"))return b.preventDefault?b.preventDefault():b.returnValue=!1,href=a(this).attr("data-link"),href=href.replace("\u2019","'"),a(this).hasClass("pinterest")||a(this).hasClass("buffer_link")||a(this).hasClass("flipboard")?(height=550,width=775):(height=270,width=500),instance=c.open(href,"_blank","height="+height+",width="+width),!1});c.body_padding_top=f(a("body").css("padding-top").replace("px",""));c.body_padding_bottom=f(a("body").css("padding-bottom").replace("px",
""));a(c).resize(function(){a(".nc_socialPanel").length&&0!==a(".nc_socialPanel:hover").length||setTimeout(function(){c.swpAdjust=1;t()},100)});a(document.body).on("post-load",function(){setTimeout(function(){t()},100)});if(a(".nc_socialPanelSide").length){var d=a(".nc_socialPanelSide").height(),b=a(c).height(),e=f(b/2-d/2);setTimeout(function(){a(".nc_socialPanelSide").animate({top:e},0);console.log(e)},105)}setTimeout(function(){t()},100);"undefined"!==typeof swpCacheURL&&(d=-1!=swpCacheURL.indexOf("?")?
"&swp_cache=rebuild":"?swp_cache=rebuild",a.get(swpCacheURL+d));"undefined"!=typeof swp_pinit&&1==swp_pinit&&D()})})(this,jQuery);
